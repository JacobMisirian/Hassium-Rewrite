use "Token.has"

func main () {
	lexer = new Lexer(input());
	res = lexer.scan();
	for (i = 0; i < res.length; i = i + 1)
		println(res[i]);
}

class Lexer {
	func new (source) {
		this.code = source;
		this.position = 0;
	}

	func scan () {
		result = [];
                whiteSpace();
                while (peekChar() != (0-1)) {
                        if (peekChar().isLetterOrDigit())
                                result.add(scanData());
                        else if (peekChar() == '"')
                                result.add(scanString());
                        else if (peekChar() == ',')
                                result.add(new Token(TokenType.Comma, readChar().toString()));
                        else
                                println("Unknown token " + readChar().toString());
                }

                return result;
	}

	func scanData () {
		str = "";
		while (peekChar().isLetterOrDigit())
			str = str + readChar().toString();
		return new Token(TokenType.Identifier, str);
	}

	func scanString () {
		this.position = this.position + 1;
		str = "";
		while (peekChar() != '"')
			str = str + readChar().toString();
		this.position = this.position + 1;
		return new Token(TokenType.String, str);
	}

	func whiteSpace () {
		while (peekChar().isWhitespace())
			this.position = this.position + 1;
	}

	func peekChar () {
		if (this.position < this.code.length)
			return this.code[position];
		return 0-1;
	}
	func readChar () {
		if (this.position < this.code.length) {
			this.position = this.position + 1;
			return this.code[position - 1];
		}
		return 0-1;
	}
}
